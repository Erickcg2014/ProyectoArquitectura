<div
  class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"
  style="
    background: linear-gradient(
      135deg,
      #eff6ff 0%,
      #dbeafe 25%,
      #bfdbfe 50%,
      #fef3c7 75%,
      #fde68a 100%
    );
  "
>
  <div class="max-w-md w-full" style="animation: fadeInUp 0.6s ease-out">
    <button
      type="button"
      routerLink="/"
      class="flex items-center gap-2 px-5 py-2.5 rounded-xl font-bold transition-all duration-200 mb-8"
      style="
        background: rgba(255, 255, 255, 0.95);
        color: #1e40af;
        border: 2px solid #bfdbfe;
        box-shadow: 0 4px 12px rgba(30, 64, 175, 0.1);
      "
      onmouseover="this.style.background='#FFFFFF'; this.style.borderColor='#2563EB'; this.style.transform='translateX(-3px)'; this.style.boxShadow='0 6px 16px rgba(37, 99, 235, 0.2)'"
      onmouseout="this.style.background='rgba(255, 255, 255, 0.95)'; this.style.borderColor='#BFDBFE'; this.style.transform='translateX(0)'; this.style.boxShadow='0 4px 12px rgba(30, 64, 175, 0.1)'"
    >
      <span class="material-symbols-outlined" style="font-size: 1.25rem"
        >arrow_back</span
      >
      Volver al inicio
    </button>

    <!-- Header -->
    <div class="text-center mb-10">
      <div class="flex justify-center mb-6">
        <div
          class="w-24 h-24 rounded-3xl flex items-center justify-center shadow-2xl transform hover:scale-110 transition-all duration-300"
          style="
            background: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
            box-shadow: 0 20px 50px rgba(37, 99, 235, 0.4);
          "
        >
          <span
            class="material-symbols-outlined text-white"
            style="font-size: 3.5rem; font-variation-settings: 'FILL' 1"
            >login</span
          >
        </div>
      </div>
      <h2
        class="text-5xl font-black mb-3"
        style="
          background: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        "
      >
        Iniciar SesiÃ³n
      </h2>
      <p class="text-lg font-medium" style="color: #1e40af">
        ðŸ‘‹ Bienvenido de nuevo a JaveMarket
      </p>
    </div>

    <!-- Card principal -->
    <div
      class="p-8 sm:p-10 rounded-2xl"
      style="
        background: #ffffff;
        box-shadow: 0 25px 50px -12px rgba(30, 64, 175, 0.25);
        border: 1px solid rgba(30, 64, 175, 0.1);
      "
    >
      <!-- Mensaje de error -->
      <div
        *ngIf="errorMessage"
        class="mb-6 p-4 rounded-xl flex items-start gap-3"
        style="
          background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
          border-left: 4px solid #ef4444;
          animation: shake 0.5s ease-in-out;
        "
      >
        <span
          class="material-symbols-outlined"
          style="
            color: #dc2626;
            font-size: 1.5rem;
            font-variation-settings: 'FILL' 1;
          "
          >error</span
        >
        <p class="text-sm font-semibold flex-1" style="color: #991b1b">
          {{ errorMessage }}
        </p>
      </div>

      <!-- Formulario -->
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <!-- Username -->
        <div class="mb-6">
          <label
            for="username"
            class="block text-sm font-bold mb-2"
            style="color: #1e40af"
          >
            Usuario <span style="color: #ef4444">*</span>
          </label>
          <div class="relative">
            <span
              class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2"
              style="color: #60a5fa; font-size: 1.25rem"
            >
              person
            </span>
            <input
              id="username"
              type="text"
              formControlName="username"
              placeholder="tu_usuario"
              class="w-full pl-12 pr-4 py-3.5 rounded-xl font-medium transition-all duration-200"
              [style.border]="
                username?.invalid && username?.touched
                  ? '2px solid #EF4444'
                  : '2px solid #BFDBFE'
              "
              [style.background]="
                username?.invalid && username?.touched ? '#FEF2F2' : '#FFFFFF'
              "
              style="outline: none"
              (focus)="onInputFocus($event)"
              (blur)="onInputBlur($event)"
              autocomplete="username"
            />
          </div>
          <p
            *ngIf="username?.invalid && username?.touched"
            class="mt-2 text-xs font-semibold flex items-center gap-1.5"
            style="color: #dc2626"
          >
            <span class="material-symbols-outlined" style="font-size: 1rem"
              >info</span
            >
            <span *ngIf="username?.errors?.['required']"
              >El usuario es requerido</span
            >
            <span *ngIf="username?.errors?.['minlength']"
              >MÃ­nimo 4 caracteres</span
            >
          </p>
        </div>

        <!-- Password -->
        <div class="mb-6">
          <label
            for="password"
            class="block text-sm font-bold mb-2"
            style="color: #1e40af"
          >
            ContraseÃ±a <span style="color: #ef4444">*</span>
          </label>
          <div class="relative">
            <span
              class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2"
              style="color: #60a5fa; font-size: 1.25rem"
            >
              lock
            </span>
            <input
              id="password"
              [type]="showPassword ? 'text' : 'password'"
              formControlName="password"
              placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
              class="w-full pl-12 pr-12 py-3.5 rounded-xl font-medium transition-all duration-200"
              [style.border]="
                password?.invalid && password?.touched
                  ? '2px solid #EF4444'
                  : '2px solid #BFDBFE'
              "
              [style.background]="
                password?.invalid && password?.touched ? '#FEF2F2' : '#FFFFFF'
              "
              style="outline: none"
              autocomplete="current-password"
              (focus)="onInputFocus($event)"
              (blur)="onInputBlur($event)"
            />
            <button
              type="button"
              (click)="togglePasswordVisibility()"
              class="absolute right-4 top-1/2 -translate-y-1/2 transition-colors duration-200"
              style="color: #60a5fa"
              onmouseover="this.style.color='#2563EB'"
              onmouseout="this.style.color='#60A5FA'"
            >
              <span class="material-symbols-outlined" style="font-size: 1.5rem">
                {{ showPassword ? "visibility_off" : "visibility" }}
              </span>
            </button>
          </div>
          <p
            *ngIf="password?.invalid && password?.touched"
            class="mt-2 text-xs font-semibold flex items-center gap-1.5"
            style="color: #dc2626"
          >
            <span class="material-symbols-outlined" style="font-size: 1rem"
              >info</span
            >
            <span *ngIf="password?.errors?.['required']"
              >La contraseÃ±a es requerida</span
            >
            <span *ngIf="password?.errors?.['minlength']"
              >MÃ­nimo 8 caracteres</span
            >
          </p>
        </div>

        <!-- Forgot password link -->
        <div class="flex items-center justify-end mb-6">
          <a
            href="#"
            class="text-sm font-bold transition-colors"
            style="color: #2563eb"
            onmouseover="this.style.color='#1E40AF'"
            onmouseout="this.style.color='#2563EB'"
          >
            Â¿Olvidaste tu contraseÃ±a?
          </a>
        </div>

        <!-- Submit button -->
        <button
          type="submit"
          [disabled]="isLoading"
          class="w-full flex items-center justify-center gap-2 px-8 py-4 rounded-xl font-bold transition-all duration-200"
          [style.background]="
            isLoading
              ? '#9CA3AF'
              : 'linear-gradient(135deg, #2563EB 0%, #1E40AF 100%)'
          "
          [style.color]="'#FFFFFF'"
          [style.box-shadow]="
            isLoading ? 'none' : '0 10px 25px rgba(37, 99, 235, 0.3)'
          "
          [style.cursor]="isLoading ? 'not-allowed' : 'pointer'"
          [style.opacity]="isLoading ? '0.6' : '1'"
          onmouseover="if(!this.disabled) { this.style.background='linear-gradient(135deg, #1E40AF 0%, #1E3A8A 100%)'; this.style.transform='translateY(-3px)'; this.style.boxShadow='0 15px 35px rgba(37, 99, 235, 0.4)' }"
          onmouseout="if(!this.disabled) { this.style.background='linear-gradient(135deg, #2563EB 0%, #1E40AF 100%)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 10px 25px rgba(37, 99, 235, 0.3)' }"
        >
          <span *ngIf="!isLoading" class="flex items-center gap-2">
            <span
              class="material-symbols-outlined"
              style="font-size: 1.5rem; font-variation-settings: 'FILL' 1"
              >login</span
            >
            Iniciar SesiÃ³n
          </span>
          <span *ngIf="isLoading" class="flex items-center gap-2">
            <span
              class="material-symbols-outlined"
              style="font-size: 1.5rem; animation: spin 1s linear infinite"
              >refresh</span
            >
            Iniciando sesiÃ³n...
          </span>
        </button>
      </form>

      <!-- Divider -->
      <div class="my-8" style="border-top: 2px dashed #bfdbfe"></div>

      <!-- Register links -->
      <div class="text-center space-y-4">
        <p class="text-sm font-bold" style="color: #1e40af">
          Â¿No tienes una cuenta?
        </p>
        <div class="flex flex-col gap-3">
          <button
            type="button"
            routerLink="/auth/register-usuario"
            class="w-full flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-bold transition-all duration-200"
            style="
              border: 2px solid #2563eb;
              color: #2563eb;
              background: #ffffff;
            "
            onmouseover="this.style.background='#EFF6FF'; this.style.transform='translateY(-2px)'"
            onmouseout="this.style.background='#FFFFFF'; this.style.transform='translateY(0)'"
          >
            <span
              class="material-symbols-outlined"
              style="font-size: 1.25rem; font-variation-settings: 'FILL' 1"
              >person_add</span
            >
            Registrarme como Cliente
          </button>
          <button
            type="button"
            routerLink="/auth/register-proveedor"
            class="w-full flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-bold transition-all duration-200"
            style="
              border: 2px solid #7c3aed;
              color: #7c3aed;
              background: #ffffff;
            "
            onmouseover="this.style.background='#F5F3FF'; this.style.transform='translateY(-2px)'"
            onmouseout="this.style.background='#FFFFFF'; this.style.transform='translateY(0)'"
          >
            <span
              class="material-symbols-outlined"
              style="font-size: 1.25rem; font-variation-settings: 'FILL' 1"
              >store</span
            >
            Registrarme como Proveedor
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
